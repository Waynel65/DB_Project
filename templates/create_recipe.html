<html>
<head>
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/purecss@3.0.0/build/pure-min.css" integrity="sha384-X38yfunGUhNzHpBaEBsWLO+A0HDYOQi8ufWDkZ0k9e0eXz/tH3II7uKZ9msv++Ls" crossorigin="anonymous">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<style>
		* {
		  box-sizing: border-box;
		  font-family: Arial, Helvetica, sans-serif;
		}
		body {
		  margin: 0;
		  font-family: Arial, Helvetica, sans-serif;
		}
		#login, .pure-form, .input {
			text-align:center;
		}
		#stacked-email, #stacked-password{
			margin:auto;
		}
		input{
			padding: 0.5rem;
    		width: 100%;
		}
		div{
			margin: 1rem;
		}
		.round-submit-button{
			border-radius: 25px;
			border: 2px solid #73AD21;
			padding: 20px;
			width: 50px;
			height: 25px;
		}

		/* Style the content */
		.content {
		  
		  padding: 10px;
		  height: 200px; /* Should be removed. Only for demonstration */
		}
	</style>
	<script type='text/javascript'>
        function addFields(){
            // Generate a dynamic number of inputs
            var number = document.getElementById("ing").value;
			
            // Get the element where the inputs will be added to
            var container = document.getElementById("container");
            // Remove every children it had before
            while (container.hasChildNodes()) {
                container.removeChild(container.lastChild);
            }
            for (i = 0; i < number; i++) {
                // 1. Append a node for iName
                container.appendChild(document.createTextNode("Ingredient #" + (i+1) + " Name"));
                let input = document.createElement("input");
                input.type = "text";
                input.name = "name_ing" + i;
                container.appendChild(input);
                container.appendChild(document.createElement("br"));
				// 2. Append a node for unitName
                container.appendChild(document.createTextNode("Ingredient #" + (i+1) + " Unit name"));
                let input2 = document.createElement("input");
                input2.type = "text";
                input2.name = "unitName_ing" + i;
                container.appendChild(input2);
                container.appendChild(document.createElement("br"));
				// 3. Append a node for unitName
                container.appendChild(document.createTextNode("Ingredient #" + (i+1) + " amount"));
                let input3 = document.createElement("input");
                input3.type = "text";
                input3.name = "amount_ing" + i;
                container.appendChild(input3);
                container.appendChild(document.createElement("br"));
				// 3. Append a node for PurchaseLink
                container.appendChild(document.createTextNode("Ingredient #" + (i+1) + " Purchase Link"));
                let input4 = document.createElement("input");
                input4.type = "text";
                input4.name = "purchase_link_ing" + i;
                container.appendChild(input4);
                container.appendChild(document.createElement("br"));
            }
		}
			
		function addRestrictionsFields(){
			var number = document.getElementById("rst").value;
			var container = document.getElementById("container_dietary_restrictions");
			while (container.hasChildNodes()) {
				container.removeChild(container.lastChild);
			}
			for (i = 0; i < number; i++) {
				// 1. Append a node for iName
				container.appendChild(document.createTextNode("Restriction #" + (i+1) + " Name"));
				let input = document.createElement("input");
				input.type = "text";
				input.name = "name_rst" + i;
				container.appendChild(input);
				container.appendChild(document.createElement("br"));
				// 1. Append a node for iName
				container.appendChild(document.createTextNode("Restriction #" + (i+1) + " Description"));
				let input2 = document.createElement("input");
				input2.type = "text";
				input2.name = "desc_rst" + i;
				container.appendChild(input2);
				container.appendChild(document.createElement("br"));
			}
		}
    </script>
</head>
<body>
	<div class="content">
        <div>
            <h1>Create Recipe</h1>
        </div>
		<div>
			<form action="/createRecipe" method="POST">
				<div><input type="text" name = "title" placeholder="Add Title" required/> </br></div>
                <div><input type="text" name = "numServings" placeholder="Add Number of Servings" required/> </br></div>
                <div>
					<h2>Add Dietary Restrictions</h2>
					<label>Enter the number of Dietary Restrictions (e.g. 2) below and then click on Fill Details. </label>
					<input placeholder="Number of Dietary Restrictions " type="text" id="rst" required name="numDietaryRestrictions" value="">
					<a href="#" id="filldetails_rest" onclick="addRestrictionsFields()">Fill Details</a>
    				<div id="container_dietary_restrictions"/>
					</div>
				</div>
                <div><input type="text" name = "recipeTags" placeholder="Add Recipe Tags" required/> </br></div>
                <div>
					 <h2>Add Ingredients</h2>
					 <label>Enter the number of Ingredients (e.g. 2) below and then click on Fill Details. </label>
					 <input placeholder="Number of Ingredients" type="text" id="ing" required name="numIngredients" value="">
					 <a href="#" id="filldetails" onclick="addFields()">Fill Details</a>
    				 <div id="container"/>
				</div>
				</div>
				<div>
					<input type="submit" value = Register />
					{% if error %}
						<p class="error"><strong>Error:</strong> {{error}}</p>
					{% endif %}
				</div>
			</form>
		</div>
		<div><a href="/">Go back</a></div>
	</div>
</body>


</html>
